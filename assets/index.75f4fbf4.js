var e=Object.defineProperty,t=Object.defineProperties,n=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,o=(t,n,a)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,c=(e,t)=>{for(var n in t||(t={}))l.call(t,n)&&o(e,n,t[n]);if(a)for(var n of a(t))r.call(t,n)&&o(e,n,t[n]);return e},s=(e,a)=>t(e,n(a));"undefined"!=typeof require&&require;import{a as u,R as i,b as m,_ as d,r as p,c as g,d as h,e as E,f as v,g as w,u as f,L as b,s as x,B as k,S as y,h as S,i as C,j as L}from"./vendor.c9cd2ca2.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var N=u.create({baseURL:"https://pinash.herokuapp.com/api/",headers:{authToken:localStorage.getItem("authToken"),"Content-type":"Application/json"}});const j=i({key:"authUserState",get:async({get:e})=>{const t=e(M);if(!t)return{isLoggedIn:!1,user:null,msg:"Not logged in"};try{const e=await N.get("auth/authUser",{headers:{authToken:t}});return console.log(e.data),e.data}catch(n){throw n}}}),I=m({key:"refreshPinDataCountState",default:1}),D=i({key:"pinDataState",get:async({get:e})=>{const t=e(M),n=e(I);if(t&&n)try{const e=await N.get("/pindata/",{headers:{authToken:t}});return console.log(e.data),e.data}catch(a){return console.log(a),[]}}}),M=m({key:"tokenState",default:localStorage.getItem("authToken")}),P=m({key:"baseUrlState",default:"/pinpin-react-ts/"}),T=m({key:"messageState",default:null}),V=()=>{const[e,t]=p.exports.useState({id:0,username:"",name:"",description:"",secret:"",createdDate:"",updatedDate:""}),[n,a]=g(I);return h.createElement(U,null,h.createElement(W,null,h.createElement(H,null,"Name :"),h.createElement(z,{value:e.name,onChange:n=>t(s(c({},e),{name:n.target.value}))})),h.createElement(W,null,h.createElement(H,null,"Description :"),h.createElement(z,{value:e.description,onChange:n=>t(s(c({},e),{description:n.target.value}))})),h.createElement(W,null,h.createElement(H,null,"Secret :"),h.createElement(z,{value:e.secret,onChange:n=>t(s(c({},e),{secret:n.target.value}))})),h.createElement(O,null,h.createElement(B,{onClick:async()=>{try{const{name:t,description:l,secret:r}=e,o=await N.post("/pindata/",{name:t,description:l,secret:r});console.log(o.data),a(n+1)}catch(t){}}},h.createElement(A,null),h.createElement("p",null,"Save")),h.createElement(B,null,h.createElement(F,null),h.createElement("p",null,"Cancel"))))},O=d.div`flex w-full justify-evenly mt-2`,U=d.div`flex flex-col items-center p-2 bg-green-600 rounded-lg text-lg`,B=d.button`text-green-100 bg-blue-700 rounded w-32 pl-5 pr-5 pt-2 pb-2 flex items-center space-x-2 justify-center`,H=d.h1`text-white`,W=d.div`flex items-center justify-between space-x-2 w-full`,z=d.input`border-2 border-green-700 rounded focus:outline-none p-1 mt-1 mb-1`,A=()=>h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})),F=()=>h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})),q=({data:e,setEditing:t})=>{const[n,a]=p.exports.useState(e),[l,r]=g(I);return h.createElement(R,null,h.createElement(_,null,h.createElement(K,null,"Name :"),h.createElement(J,{value:n.name,onChange:e=>a(s(c({},n),{name:e.target.value}))})),h.createElement(_,null,h.createElement(K,null,"Description :"),h.createElement(J,{value:n.description,onChange:e=>a(s(c({},n),{description:e.target.value}))})),h.createElement(_,null,h.createElement(K,null,"Secret :"),h.createElement(J,{value:n.secret,onChange:e=>a(s(c({},n),{secret:e.target.value}))})),h.createElement(G,null,h.createElement($,{onClick:async()=>{try{const{id:e,name:t,description:a,secret:o}=n,c=await N.put(`/pindata/id/${e}`,{name:t,description:a,secret:o});console.log(c.data),r(l+1)}catch(e){console.log(e)}}},h.createElement(Q,null),h.createElement("p",null,"Save")),h.createElement($,{onClick:()=>t(!1)},h.createElement(X,null),h.createElement("p",null,"Cancel"))))},G=d.div`flex w-full justify-evenly mt-2`,R=d.div`flex flex-col items-center p-2 bg-green-600 rounded-lg text-lg`,$=d.button`text-green-100 bg-blue-700 rounded w-32 pl-5 pr-5 pt-2 pb-2 flex items-center space-x-2 justify-center`,K=d.h1`text-white`,_=d.div`flex items-center justify-between space-x-2 w-full`,J=d.input`border-2 border-green-700 rounded focus:outline-none p-1 mt-1 mb-1`,Q=()=>h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})),X=()=>h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})),Y=({data:e})=>{const[t,n]=p.exports.useState(!1),[a,l]=g(I);return h.createElement(h.Fragment,null,t?h.createElement(q,{data:e,setEditing:n}):h.createElement("div",{className:"flex items-center justify-between text-2xl mt-4 mb-4 p-2 bg-blue-600 text-white rounded-lg"},h.createElement("div",{className:"flex flex-col w-2/3"},h.createElement("h1",null,e.name),h.createElement("p",null,e.description)),h.createElement("div",{className:"flex flex-col w-1/3"},h.createElement("p",{className:"break-words text-center"},e.secret),h.createElement("div",{className:"flex justify-evenly"},h.createElement("button",{onClick:()=>n(!0)},h.createElement(ee,null)),h.createElement("button",{onClick:async()=>{try{const{id:t}=e,n=await N.delete(`/pindata/id/${t}`);console.log(n.data),l(a+1)}catch(t){console.log(t)}}},h.createElement(Z,null))))))},Z=()=>h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})),ee=()=>h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})),te=({pinData:e})=>{const[t,n]=p.exports.useState(!1);return h.createElement("div",null,h.createElement("button",{onClick:()=>n(!t),className:"flex items-center bg-green-600 text-white rounded p-2"},h.createElement(ne,null),h.createElement("p",null,"Add New")),t?h.createElement(V,null):h.createElement(h.Fragment,null),e.map((e=>h.createElement(Y,{key:e.id+e.name+e.description+e.secret+e.createdDate+e.updatedDate,data:e}))))},ne=()=>h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 14v6m-3-3h6M6 10h2a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v2a2 2 0 002 2zm10 0h2a2 2 0 002-2V6a2 2 0 00-2-2h-2a2 2 0 00-2 2v2a2 2 0 002 2zM6 20h2a2 2 0 002-2v-2a2 2 0 00-2-2H6a2 2 0 00-2 2v2a2 2 0 002 2z"})),ae=()=>{var e,t;const n=E(P),a=v(j),l=v(D),[r,o]=g(M);switch(a.state){case"hasValue":return(null==(e=a.contents)?void 0:e.isLoggedIn)?h.createElement("div",null,h.createElement("h1",null,null==(t=a.contents)?void 0:t.user.username),"hasValue"==l.state?h.createElement(te,{pinData:l.contents}):h.createElement(h.Fragment,null,"Loading PinData..."),h.createElement("button",{onClick:()=>{localStorage.removeItem("authToken"),o(null)}},"Logout")):h.createElement(w,{to:n+"login"});case"loading":return h.createElement("div",null,"Loading...");case"hasError":return h.createElement(w,{to:n+"login"})}},le=()=>{const e=f(),t=E(P);return h.createElement("div",null,h.createElement("h1",null,"Home"),h.createElement("button",{onClick:()=>e.push(t+"login")},"Go Login"))},re=()=>{var e;const t=E(P),n=f(),[a,l]=p.exports.useState(""),[r,o]=p.exports.useState(""),c=v(j),[s,u]=g(M),i=async()=>{try{const e=await N.post("auth/login/",{username:a,password:r});console.log(e.data),e.data.token?(localStorage.setItem("authToken",e.data.token),u(e.data.token)):(localStorage.removeItem("authToken"),u(null))}catch(e){console.log(e),localStorage.removeItem("authToken"),u(null)}};switch(c.state){case"hasValue":return(null==(e=c.contents)?void 0:e.isLoggedIn)?h.createElement(w,{to:t+"dashboard"}):h.createElement("div",null,h.createElement("h1",null,"Login"),h.createElement("button",{onClick:()=>n.push(t)},"Go home"),h.createElement("div",{className:"flex flex-col"},h.createElement("div",{className:"flex flex-col items-center"},h.createElement(oe,{onChange:e=>l(e.target.value),value:a,type:"text",placeholder:"Username"}),h.createElement(oe,{value:r,onChange:e=>o(e.target.value),type:"password",placeholder:"Password"})),h.createElement("div",{className:"flex justify-center"},h.createElement(se,{onClick:i},"Sign In"),h.createElement(ue,null,h.createElement(b,{to:t+"signup"},"Sign Up")))));case"loading":return h.createElement("div",null,"Loading...");case"hasError":return h.createElement("div",null,"Error loading...")}},oe=d.input`border-2 border-black w-60 m-2 p-2 rounded focus:outline-none`,ce=d.button`transition-all rounded px-2 w-20 py-1 m-1`,se=d(ce)`bg-blue-600 text-white hover:bg-blue-700`,ue=d(ce)`bg-transparent text-blue-600 hover:bg-blue-600 hover:text-white border-2 border-blue-600`,ie=()=>{const e=E(P);return h.createElement("div",null,h.createElement(b,{to:e},"Home"),h.createElement(b,{to:e+"dashboard"},"Dashboard"),h.createElement(b,{to:e+"signup"},"SignUp"),h.createElement(b,{to:e+"login"},"Login"))},me=()=>{var e;const t=v(j),n=E(P),[a,l]=g(T),[r,o]=p.exports.useState(""),[c,s]=p.exports.useState(""),[u,i]=p.exports.useState(""),[m,d]=p.exports.useState(""),[f,x]=p.exports.useState("");let k;const y=async()=>{if(c!=u)return;const e=await N.post("/auth/signup/",{username:r,password:c,email:m,name:f});console.log(e.data),l(e.data.msg),k=setTimeout((()=>{l(null),clearTimeout(k)}),4e3)};switch(t.state){case"hasValue":return(null==(e=t.contents)?void 0:e.isLoggedIn)?h.createElement(w,{to:n+"dashboard"}):h.createElement("div",{className:"flex flex-col items-center"},h.createElement(de,{value:m,onChange:e=>d(e.target.value),placeholder:"Email"}),h.createElement(de,{value:c,onChange:e=>s(e.target.value),type:"password",placeholder:"Password"}),h.createElement(de,{value:u,onChange:e=>i(e.target.value),type:"password",placeholder:"Confirm Password"}),h.createElement(de,{value:r,onChange:e=>o(e.target.value),placeholder:"Username"}),h.createElement(de,{value:f,onChange:e=>x(e.target.value),placeholder:"Full Name"}),h.createElement("div",null,h.createElement(pe,{onClick:y},"Sign Up")),h.createElement("p",null,"Already have an account?"," ",h.createElement(b,{to:n+"login"},h.createElement("span",{className:"underline hover:text-blue-500 hover:no-underline transition-all"},"Sign In"))));case"loading":return h.createElement("div",null,"Loading...")}return h.createElement("div",null,"SignUp")},de=d.input`border-2 border-black w-60 m-2 p-2 rounded focus:outline-none`,pe=d(d.button`transition-all rounded w-60 px-2 py-2 m-1`)`bg-blue-600 text-white hover:bg-blue-700`,ge=()=>{const e=E(P),t=E(T);return h.createElement(he,{className:"bg-blue-300"},h.createElement("h1",null,e),h.createElement("h1",null,t),h.createElement(k,null,h.createElement(ie,null),h.createElement(y,null,h.createElement(S,{exact:!0,path:e},h.createElement(le,null)),h.createElement(S,{path:e+"dashboard"},h.createElement(ae,null)),h.createElement(S,{path:e+"login"},h.createElement(re,null)),h.createElement(S,{path:e+"signup"},h.createElement(me,null)))))},he=x.div`
  max-width: 400px;
  margin: 0 auto;
`;C.render(h.createElement(h.StrictMode,null,h.createElement(L,null,h.createElement(ge,null))),document.getElementById("root"));
